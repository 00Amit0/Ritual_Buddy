# ============================================
# PANDIT BOOKING PLATFORM â€” Environment Config
# ============================================

# Application
APP_NAME="Pandit Booking Platform"
APP_ENV=development          # development | staging | production
APP_VERSION=1.0.0
DEBUG=true
SECRET_KEY=your-super-secret-key-change-in-production-min-32-chars

# Server
HOST=0.0.0.0
PORT=8000
WORKERS=4

# ---- Database ----
DATABASE_URL=postgresql+asyncpg://postgres:password@localhost:5432/pandit_db
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_POOL_TIMEOUT=30

# ---- Redis ----
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_TTL=300          # seconds (5 minutes)
REDIS_SLOT_LOCK_TTL=900      # seconds (15 minutes - slot locking during payment)

# ---- OAuth2 - Google ----
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8000/auth/google/callback

# ---- JWT ----
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# ---- Elasticsearch ----
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=your-es-password
ELASTICSEARCH_INDEX_PANDITS=pandits
ELASTICSEARCH_INDEX_POOJAS=poojas

# ---- Payments - Razorpay ----
RAZORPAY_KEY_ID=rzp_test_xxxxxxxxxxxx
RAZORPAY_KEY_SECRET=your-razorpay-secret
RAZORPAY_WEBHOOK_SECRET=your-webhook-secret
PLATFORM_COMMISSION_PERCENT=10.0    # Platform takes 10%

# ---- Firebase (Push Notifications) ----
FIREBASE_CREDENTIALS_PATH=./config/firebase-credentials.json
FIREBASE_PROJECT_ID=your-firebase-project-id

# ---- Twilio (SMS) ----
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_FROM_NUMBER=+1234567890

# ---- Email - Resend ----
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxx
EMAIL_FROM=noreply@panditbooking.com
EMAIL_FROM_NAME="Pandit Booking"

# ---- Frontend URLs ----
FRONTEND_URL=http://localhost:3000
ADMIN_FRONTEND_URL=http://localhost:3001
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# ---- AWS S3 / Cloudflare R2 ----
S3_ACCESS_KEY_ID=your-access-key
S3_SECRET_ACCESS_KEY=your-secret-key
S3_BUCKET_PUBLIC=pandit-public
S3_BUCKET_PRIVATE=pandit-private
S3_ENDPOINT_URL=https://your-r2-endpoint.r2.cloudflarestorage.com
S3_REGION=auto

# ---- Celery (Background Tasks) ----
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ---- OpenTelemetry ----
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=pandit-booking-api

# ---- Rate Limiting ----
RATE_LIMIT_PER_MINUTE=100       # Authenticated users
RATE_LIMIT_UNAUTH_PER_MINUTE=20 # Unauthenticated

# ---- Booking Config ----
BOOKING_ACCEPT_DEADLINE_HOURS=2   # Pandit must respond within 2 hours
PANDIT_NEARBY_DEFAULT_RADIUS_KM=25
